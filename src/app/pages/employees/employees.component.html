<app-header></app-header>

<div class="maindiv">
  <div class="emplist">
    <div class="textallemp">All employees</div>
    <div class="btn-add" (click)="showModel = true">
      <span class="textadd">Add</span>
    </div>
    <input
      class="search"
      placeholder="Search"
      type="text"
      name="employeeName"
      [(ngModel)]="employeeName"
      (ngModelChange)="handleChange($event)"
    />
    <div class="employeeslist">
      <div
        class="employeediv"
        *ngFor="let emp of filterlist"
        (click)="onClickEmployee(emp)"
        [ngStyle]="{
          'background-color':
            emp?.name === employeeData?.name ? '#dbdef7' : 'transparent'
        }"
      >
        <span class="textemp"> {{ emp?.name }}</span>
      </div>
    </div>
  </div>
  <div class="empdetails">
    <div class="empinfo">
      <div class="singledetail">
        <div class="labelname">Name:</div>
        <div class="value">{{ employeeData?.name }}</div>
      </div>
      <div class="singledetail">
        <div class="labeldesignation">Designation:</div>
        <div class="value">{{ employeeData?.designation }}</div>
      </div>
      <div class="singledetail">
        <div class="labeldate">Joining date:</div>
        <div class="value">{{ employeeData?.joiningDate }}</div>
      </div>
      <div class="singledetail">
        <div class="labeltech">Tecnologies:</div>
        <div class="value">{{ employeeData?.technologies }}</div>
      </div>
      <div class="singledetail">
        <div class="labelproj">Active projects:</div>
        <div class="valueproj">
          <div *ngFor="let proj of employeeProjectList" class="valueprojin">
            {{ proj }},
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="showModel" class="model">
  <div class="addcomponent">
    <div class="header">
      <div class="txtnewemp">New Employee</div>
      <img
        src="../../../assets/images/cancle.png"
        alt="icon_close"
        class="icon_close"
        (click)="onCancle()"
      />
    </div>
    <div>
      <form
        [formGroup]="addNewEmployee"
        (ngSubmit)="onSubmit()"
        class="addempfrom"
      >
        <label for="name" class="textlabelname">Name</label>
        <input
          type="text"
          id="name"
          formControlName="name"
          class="inputfield"
        />
        <label for="designationId" class="textlabel">Designation</label>
        <select
          id="designationId"
          formControlName="designationId"
          class="selectfield"
        >
          <option *ngFor="let x of designations" [value]="x.id">
            {{ x.name }}
          </option>
        </select>

        <label for="joiningDate" class="textlabel">Joining Date</label>
        <input
          type="date"
          id="joiningDate"
          formControlName="joiningDate"
          class="inputfield"
        />
        <label for="technologies" class="textlabel">Technologies</label>
        <input
          type="text"
          id="technologies"
          formControlName="technologies"
          class="inputfieldarea"
          multiple="true"
        />
        <div class="error">
          <span
            *ngIf="!addNewEmployee.valid && addNewEmployee.touched"
            class="error-text"
            >Please enter valid data!</span
          >
        </div>
        <div class="buttons">
          <div class="btn-cancle" (click)="onCancle()">
            <span class="textbtn">Cancle</span>
          </div>
          <button
            class="btn-save"
            type="submit"
            [disabled]="!addNewEmployee.valid"
            [ngStyle]="{
              'background-color': !addNewEmployee.valid ? '#dbdef7' : '#9ba3ed'
            }"
          >
            <span class="textbtn">Save</span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
